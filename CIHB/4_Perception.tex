\newcommand{\subfig}[1]{%
    \begin{subfigure}[t]{0.48\textwidth}%
		\includegraphics[width=\textwidth]{{Would.Enroll.In.CSx#1}.pdf}%
		\caption{}\label{fig:#1}%
	\end{subfigure}%
}%
\newcommand{\fig}[5]{%
	\begin{figure}[h!]%
		\centering%
		\subfig{#2}%
		~
		\subfig{#3}%

		\subfig{#4}%
		~
		\subfig{#5}%
		\caption{Relations between \emph{Would.Enroll.In.CS} attributes and other variables.}%
		\label{fig:#1}%
	\end{figure}%
}%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{High School Girls' Perceptions On Computer Science}\label{sec:perception}%

We took two approaches for analysis: statistical analysis for a better understanding of the data collected and association rules mining searching for interesting relationships between the data and the girl's interest in pursuing a CS major.

\subsection{Statistical Analysis}\label{sec:perception:stat}%
The data for all years was consolidated in a single spreadsheet, which was then processed in the \texttt{R} programming language. The questionnaires, data and script used on this work are freely available online\footnote{\url{http://goo.gl/oJYrjh}}.

The preprocessing step cleans up the data (empty columns, whitespaces, etc.) and discards the data not in our subset of interest: Middle or High School girls who have answered whether they are interested in a CS major.

Figure~\ref{fig:Field.Of.Interest} shows the respondents' interests in different scientific fields of undergraduate studies. The data indicates that, throughout the years, the percentages for each choice remains more or less the same, roughly around a value of $41\%$ for \emph{Biology-Health Sciences}, $22\%$ for \emph{Exact Sciences} and $33\%$ for \emph{Human Sciences}. It is clear that the field related to Computer Science (Exact Sciences) is the least interesting for all years.

\begin{figure}[h!]%
\includegraphics[width=\textwidth]{{Field.Of.Interest}.pdf}%
\caption{Respondents' interests in scientific fields.}%
\label{fig:Field.Of.Interest}%
\end{figure}%

Figure~\ref{fig:Would.Enroll.In.CS} shows the respondents' interests in enrolling in a Computer Science major. On average, the data shows that $31\%$ of the girls \emph{have interest} while $28\%$ \emph{have no interest} and $41\%$ \emph{have doubt}. The data for the year 2011 differs a little from the others because the respondents for that year included Middle school students of all ages (from 5th to 9th graders). In the other years, only students from 9th grade or higher were surveyed due to limited human resources.

\begin{figure}[h!]%
\includegraphics[width=\textwidth]{{Would.Enroll.In.CS}.pdf}%
\caption{Respondents interested in Computer Science.}%
\label{fig:Would.Enroll.In.CS}%
\end{figure}%

In order to investigate the profile of the students who are interested in Computer Sciences, we look at how the answers to the question \textit{Would you major in Computer Science?} relate to the other questions. Figure~\ref{fig:Educational.Stage} presents how students in different grades responded. The data shows that 12th graders had the lowest ratio of positive responses and that middle schoolers had the highest. This indicates an interesting research question: \emph{why do girls lose interest in CS as they grow older?}

\begin{figure}[h!]%
\centering%
\includegraphics[width=.6\textwidth]{{Would.Enroll.In.CSxEducational.Stage}.pdf}%
\caption{Results to the question \textit{Would you major in Computer Sciences?}, by Grade level.}%
\label{fig:Educational.Stage}%
\end{figure}%

Figures~\ref{fig:CS-relations:1} to~\ref{fig:CS-relations:2} present the relationships of several variables observed. The titles indicate the question asked, and the legend on the right side the answers given; the plotted bars indicated how these answers relate do the respondents interest in enrolling in a CS Major.

\fig{CS-relations:1}
    {CS.Only.Teaches.To.Use.Software}
    {CS.Uses.Little.Math}
    {Most.CS.Students.Are.Male}
    {CS.Requires.Knowledge.In.Computers}%

Figure~\ref{fig:CS.Only.Teaches.To.Use.Software} and~\ref{fig:CS.Uses.Little.Math} show that the girls clearly know that CS majors teach more than just using softwares and requires Mathematical knowledge. Figure~\ref{fig:Most.CS.Students.Are.Male} shows that the majority of girls perceived that there are more boys than girls in CS majors. Within the group of girls that are not considering a CS major (\texttt{Would.Enroll.In.CS = no}), it is quite clear that they perceive the field to be dominated by men. This indicates an interesting research question: \emph{are girls not interested in CS because most students are boys?} Figure~\ref{fig:CS.Requires.Knowledge.In.Computers} indicates that most of them perceive previous knowledge in using computers as a requirement for enrolling in a CS major, presenting another interesting question: \emph{how much knowledge using computers is required to enroll?}

\fig{CS-relations:2}
    {Higher.Education.Required.To.Work.In.CS}
    {Family.Approves.CS.Major}
    {CS.Has.Low.Employability}
    {CS.Work.Has.Long.Hours}%

Figure~\ref{fig:Higher.Education.Required.To.Work.In.CS} shows that the girls believe that a degree is required for a career in Computer Science. Figure~\ref{fig:Family.Approves.CS.Major} emphasizes the importance of family approval. Among the girls who answered that they would be interested in enrolling a major in CS, the majority reported having their family's approval (\texttt{Family.Approves.CS.Major = yes}); and the girls who reported not being interested had the highest rate of negative responses. Looking at Figures~\ref{fig:CS.Has.Low.Employability} and~\ref{fig:CS.Work.Has.Long.Hours}, and considering the data for girls who did not say they wish to enroll, we wonder \emph{why won't they pursue a career without long hours that they believe is full of opportunities?}
Interestingly, the group of girls who reported being interested in CS, responded positively to \emph{long hours} at a higher ratio than the other groups.

\fig{CS-relations:3}
    {CS.Fosters.Creativity}
    {CS.Is.Prestigious}
    {CS.Provides.Good.Wages}
    {CS.Enables.Interdisciplinary.Experiences}%

Figures~\ref{fig:CS.Fosters.Creativity} and \ref{fig:CS.Enables.Interdisciplinary.Experiences} clearly show that the girls perceive CS as a creative field with various interdisciplinary possibilities. Figure~\ref{fig:CS.Is.Prestigious} has a favorable perception; the group with the lowest \emph{yes} response ratio to this question was that of girls who were not interested in CS, despite this group having a high ratio of \emph{maybe} replies. Figure~\ref{fig:CS.Provides.Good.Wages} indicates that the majority of girls think there are good salaries in the field, but it is worth to note that there was also a large part of them also responded \emph{maybe}, specially in the group of girls who were not interested in CS.

The remaining questions simply inquire where the girls use computers and what software tools they use. Almost all use a computer at home and most also use is at a relative or friend's house; about half use them at school, and the vast majority does not use a computer at work, at the library, or in digital inclusion centers. Considering tools, most have used text or image editors, but more than half have not used spreadsheets and very few have used databases.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Mining Association Rules}\label{sec:perception:mining}%
To gain further insights on the profiles of girls intending to enroll in undergraduate courses, especially those interested in ones related to Computer Science, we applied the Apriori algorithm to the data, with the minimum confidence level equal to 50\%, and with a maximum number of 3 items in an itemset. This minimum confidence level removed rules with less than 50\% of probability that the antecedent and the consequent were connected. The size of 3 items eased rules' interpretation, showing a maximum of two itemsets in the antecedent. A filter was applied to the rules' right-hand side in order to select only those involving the variable \texttt{Would.Enroll.In.CS}, which indicates the respondent is interested in pursuing a CS degree. The rules were analyzed considering \emph{support}, \emph{confidence} and \emph{lift} metrics, and the association rule mining resulted in 32 rules.

We selected the 10 rules with highest lift for investigation, as detailed in Figure~\ref{fig:apriori.rule.table}. They are consistent with our approach for the statistical analysis, all rules include the \mbox{\texttt{Family.Approves.CS.Major}} attribute. The rule with the highest lift also had the highest confidence level (of all rules); so we can say that there is 68\% chance that ``\emph{the respondent would enroll in a CS major if she believes that she has her family's approval and that higher education is required to work with CS}''. The lift value for this rule indicates that there is an 80\% chance that its antecedents and the consequent are correlated, which is a very intriguing discovery: girls who are interested in and have their family's approval for a CS career \emph{perceive the importance of their education}.

\begin{figure}%
\includegraphics[width=\textwidth]{{apriori.rule.table}.pdf}%
\caption{Top 10 association rules for a girl's interest in a CS major, ordered by lift.}%
\label{fig:apriori.rule.table}%
\end{figure}%

The rule with the second highest lift implies that, 65\% of times, ``\emph{if the respondent believes that she has the family's approval and she has played computer games, then she would enroll in a CS major}''. Again, there is a very strong correlation between the antecedents and the consequent indicating that girls who like computer games are more likely to pursue a CS Major.

This kind of analysis can be repeated for all the generated rules, providing several interesting insights on the profiles of girls who would enroll in a Computer Science course. These relationships can they be applied to guide actions addressing the gender issue in the field, as further discussed in Section~\ref{sec:perception:discussion}.

Some rules that provided other discussion attention. The 5th rule, which reads as ``\emph{if the respondent believes that she has the family's approval and she does not use a computer at work, then she would enroll in a CS major}'', has a strong correlation (70\%) between the components, but an issue of ambiguity was raised on the attribute \texttt{Uses.Computer.At.Work=No}: what if the girls answered that they do not use a computer at work because they do not actually work? This makes it difficult to interpret the rule properly, since the straightforward understanding for this specific attribute is to check whether the contact with a computer at work, for girls who do work, has influence on her decision of enrolling in a CS major. This difficulty suggests improvements for our survey.

The 7th rule is also interesting: ``\emph{if the respondent believes that she has the family's approval then she would enroll in a CS major}'' indicating (with a 70\% confidence) that this attribute is important on it own. This rule's confidence and lift are only a fraction smaller than the previous ones, but its support is the largest of all rules.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Discussion of Results}\label{sec:perception:discussion}%
The data analysis presented indicates that family approval is a very important factor in the choice of a major in higher education. For girls who are considering a major in CS, the significance of this variable was very clear. This resonates with the results presented for a study in Brazil's University of São Paulo~\cite{saboya_2009}. We also saw that the majority of girls believe that there are more boys than girls majoring in CS, in accordance to stereotyping results in the US~\cite{Mercier_2006}, about stereotype in computing.

The employability in a CS career does not seem to be an important factor, though nearly 30\% of the girls responded \emph{maybe}, indicating that they are not sure about the job market in CS. This is a sensitive issue in Brazil's current context, the year 2016 ended with an unemployment rate of 12\%~\footnote{\url{http://www.ibge.gov.br/home/estatistica/indicadores/trabalhoerendimento/pnad_continua/default.shtm}} and informing the girls of their career possibilities might encourage them to pursue a CS major.

The need for spreading more information grows when all responses to the questionnaire are considered. The frequency of the answer \emph{maybe} in the results was significant, as shown in Figure \ref{fig:Would.Enroll.In.CS}. This was specially true within answers from Middle School, as shown in Figure \ref{fig:Educational.Stage}, hinting that motivating them earlier might lead to them becoming more interested in the area.

Another important point of notice is that the Brazilian girls are quite aware of the Math involved in a CS major. This notion, associated with the country's ongoing difficulties on teaching Math in schools, as reported by the National Institute for Educational Studies and Research~\footnote{\url{http://portal.inep.gov.br/web/guest/educacao-basica/saeb/resultados}}, might be an important discouraging girls.

These findings and the discussions they sparked provide insights on factors that influence girls when choosing, or not, a major in Computer Science, which can direct efforts to mitigate the gender disparity. To this end, several possibilities are proposed. Universities can have activities disseminating information on the field, targeting the families of prospective, and possibly younger, students.

The field of CS can be brought into the students homes through their ubiquitous smartphones by developing software applications related to Math, Logic, and other CS notions to inspire the prospective students. Some of these  applications could be games or incorporate gamification. CS could be closer to the girls realities through public policies, by creating more centers of digital inclusion in areas where girls have difficulties accessing a computer.

The analysis raised more interesting questions, which lead to more research inquiries and improvements on the questionnaire. It also showed how data mining can be useful in this kind of research, motivating us to apply other approaches to discover more knowledge.